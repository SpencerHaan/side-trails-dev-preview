import{r as n}from"./index.Dy7WD_uu.js";import{e as _,b as p}from"./createLucideIcon.c0FtbTHy.js";import{u as R,P as k,d as j}from"./utils.DwbP7QOt.js";import{j as h}from"./index.DpG565of.js";/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],z=_("sun",M);function b(t){const e=n.useRef(t);return n.useEffect(()=>{e.current=t}),n.useMemo(()=>(...s)=>e.current?.(...s),[])}function U(t,e=globalThis?.document){const s=b(t);n.useEffect(()=>{const o=r=>{r.key==="Escape"&&s(r)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[s,e])}var H="DismissableLayer",m="dismissableLayer.update",K="dismissableLayer.pointerDownOutside",q="dismissableLayer.focusOutside",g,x=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),X=n.forwardRef((t,e)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:c,onInteractOutside:f,onDismiss:d,...E}=t,a=n.useContext(x),[u,B]=n.useState(null),l=u?.ownerDocument??globalThis?.document,[,I]=n.useState({}),F=R(e,i=>B(i)),D=Array.from(a.layers),[S]=[...a.layersWithOutsidePointerEventsDisabled].slice(-1),N=D.indexOf(S),P=u?D.indexOf(u):-1,W=a.layersWithOutsidePointerEventsDisabled.size>0,O=P>=N,A=J(i=>{const v=i.target,C=[...a.branches].some(y=>y.contains(v));!O||C||(r?.(i),f?.(i),i.defaultPrevented||d?.())},l),L=Q(i=>{const v=i.target;[...a.branches].some(y=>y.contains(v))||(c?.(i),f?.(i),i.defaultPrevented||d?.())},l);return U(i=>{P===a.layers.size-1&&(o?.(i),!i.defaultPrevented&&d&&(i.preventDefault(),d()))},l),n.useEffect(()=>{if(u)return s&&(a.layersWithOutsidePointerEventsDisabled.size===0&&(g=l.body.style.pointerEvents,l.body.style.pointerEvents="none"),a.layersWithOutsidePointerEventsDisabled.add(u)),a.layers.add(u),w(),()=>{s&&a.layersWithOutsidePointerEventsDisabled.size===1&&(l.body.style.pointerEvents=g)}},[u,l,s,a]),n.useEffect(()=>()=>{u&&(a.layers.delete(u),a.layersWithOutsidePointerEventsDisabled.delete(u),w())},[u,a]),n.useEffect(()=>{const i=()=>I({});return document.addEventListener(m,i),()=>document.removeEventListener(m,i)},[]),h.jsx(k.div,{...E,ref:F,style:{pointerEvents:W?O?"auto":"none":void 0,...t.style},onFocusCapture:p(t.onFocusCapture,L.onFocusCapture),onBlurCapture:p(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:p(t.onPointerDownCapture,A.onPointerDownCapture)})});X.displayName=H;var Y="DismissableLayerBranch",G=n.forwardRef((t,e)=>{const s=n.useContext(x),o=n.useRef(null),r=R(e,o);return n.useEffect(()=>{const c=o.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),h.jsx(k.div,{...t,ref:r})});G.displayName=Y;function J(t,e=globalThis?.document){const s=b(t),o=n.useRef(!1),r=n.useRef(()=>{});return n.useEffect(()=>{const c=d=>{if(d.target&&!o.current){let E=function(){T(K,s,a,{discrete:!0})};const a={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=E,e.addEventListener("click",r.current,{once:!0})):E()}else e.removeEventListener("click",r.current);o.current=!1},f=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(f),e.removeEventListener("pointerdown",c),e.removeEventListener("click",r.current)}},[e,s]),{onPointerDownCapture:()=>o.current=!0}}function Q(t,e=globalThis?.document){const s=b(t),o=n.useRef(!1);return n.useEffect(()=>{const r=c=>{c.target&&!o.current&&T(q,s,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function w(){const t=new CustomEvent(m);document.dispatchEvent(t)}function T(t,e,s,{discrete:o}){const r=s.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&r.addEventListener(t,e,{once:!0}),o?j(r,c):r.dispatchEvent(c)}function te({className:t}){return h.jsx("button",{onClick:()=>{},className:t,children:h.jsx(z,{size:20})})}export{X as D,te as T,b as u};
